<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Brian D. Gerber</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./img/favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Brian D. Gerber</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./projects/index.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./lab/index.html"> 
<span class="menu-text">Lab</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./publications/publications.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./cv/index.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./FW680A4/index.html"> 
<span class="menu-text">FW680A4</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://scholar.google.com/citations?user=ep25z9AAAAAJ&amp;hl=en"> <i class="bi bi-google" role="img">
</i> 
<span class="menu-text">Scholar</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.researchgate.net/profile/Brian-Gerber-4"> <i class="bi bi-r-square-fill" role="img">
</i> 
<span class="menu-text">RG</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/bgerber123"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text">Github</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="mailto:brian.gerber@colostate.edu"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text">Email</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#who-and-what" id="toc-who-and-what" class="nav-link active" data-scroll-target="#who-and-what">Who and What</a></li>
  <li><a href="#news" id="toc-news" class="nav-link" data-scroll-target="#news">News</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<div class="quarto-about-jolla">
  <img src="img/leaf2.png" class="about-image
  round " style="height: 15em; width: 15em;">
 <div id="about-block">
</div> 
  <hr class="about-sep">
   <div class="about-links">
  <a href="https://scholar.google.com/citations?user=ep25z9AAAAAJ&amp;hl=en" class="about-link" rel="" target="">
    <i class="bi bi-google"></i>
     <span class="about-link-text">Scholar</span>
  </a>
  <a href="https://www.researchgate.net/profile/Brian-Gerber-4" class="about-link" rel="" target="">
    <i class="bi bi-r-square-fill"></i>
     <span class="about-link-text">RG</span>
  </a>
  <a href="https://github.com/bgerber123" class="about-link" rel="" target="">
    <i class="bi bi-github"></i>
     <span class="about-link-text">Github</span>
  </a>
  <a href="mailto:brian.gerber@colostate.edu" class="about-link" rel="" target="">
    <i class="bi bi-envelope"></i>
     <span class="about-link-text">Email</span>
  </a>
</div>
</div>

<section id="who-and-what" class="level1">
<h1>Who and What</h1>
<p>I am a research scientist with the United States Geological Survey <a href="https://www.usgs.gov/">(USGS)</a>, Assistant Unit Leader at the <a href="https://www1.usgs.gov/coopunits/unit/Colorado">Colorado Cooperative Fish and Wildlife Research Unit</a>, and an Associate Professor in the <a href="https://warnercnr.colostate.edu/fwcb/">Department of Fish, Wildlife, and Conservation Biology</a> and a faculty member of the <a href="https://ecology.colostate.edu/">Graduate Degree Program in Ecology</a> at <a href="https://www.colostate.edu/">Colorado State University</a>.</p>
<p>My focus is on <em>collaborative science</em>:</p>
<p>With my lab and colleagues - we work with scientists and resource and land managers to help learn through data to provide inferential or predictive knowledge or decision-support that is used for empirically informed conservation management of biodiversity.</p>
<section id="our-research-focus-includes" class="level4">
<h4 data-anchor-id="our-research-focus-includes"><em>Our research focus includes</em></h4>
<ul>
<li>Wildlife Population Demography and Distribution</li>
<li>Conservation Decision Making</li>
<li>Animal Behavior (especially on the diel niche)</li>
<li>Hierarchical Bayesian Modeling</li>
<li>Animal Movement and Habitat Selection</li>
<li>Optimal Prediction via Statistical Regularization</li>
</ul>
</section>
</section>
<section id="news" class="level1 scrollable">
<h1 class="scrollable">News</h1>
<section id="november-2024" class="level4">
<h4 data-anchor-id="november-2024">November, 2024</h4>
<ul>
<li><span style="color:red;">New OA Publication:</span> <a href="https://doi.org/10.1111/1365-2656.14213">A ‘how-to’ guide for estimating animal diel activity using hierarchical models</a> from Dr.&nbsp;Fabiola Iannarilli on improving the modeling of animal diel activity. Data and code can be viewed online <a href="https://hms-activity.netlify.app/">here</a>, downloaded here at <a href="https://github.com/FabiolaIannarilli/HMs_Activity">Github</a>, and archived at <a href="https://doi.org/10.13020/w1x9-3650">DRUM</a> and <a href="https://doi.org/10.5066/P13UTDBG">USGS</a>.</li>
</ul>
</section>
<section id="october-2024" class="level4">
<h4 data-anchor-id="october-2024">October, 2024</h4>
<ul>
<li><p>Maria Carolina T. D. Belotti from Colorado State University presents at the American Ornithological Society’s Annual Meeting in Estes Park, CO. Title: <a href="https://www.dropbox.com/scl/fi/dw8lnki6t28x417ggvi0p/Tiburcio-Dias-Belotti_AOS2024.pdf?rlkey=kq9jcgu7jcjtqrd2jdyl90yuy&amp;st=9gvc7wdt&amp;dl=0">Comparison of swallow and martin population trends from three large-scale data sources</a>.</p></li>
<li><p>Brian presents at the 31<span class="math inline">\(^{st}\)</span> annual Wildlife Society Conference in Batlimtore, MD. Title: <a href="https://www.dropbox.com/scl/fi/85hey8te7ndpaf23duxsa/TWS-2024-Gerber_etal.pdf?rlkey=80f1z768clvapn3f83v999pod&amp;st=mlz2q1k7&amp;dl=0">A framework to define and estimate animal diel activity</a>.</p></li>
<li><p><span style="color:red;">New Publication:</span> <a href="https://doi.org/10.1002/jwmg.22668">Muskrat occurrence in Rhode Island shows little evidence of land use change driving declines</a> from John Crockett on Muskrat and wetland change in Rhode Island, USA. <a href=".\publications/Crockett et al. 2024.pdf">Download</a>. Data and code can be found at <a href="https://zenodo.org/doi/10.5281/zenodo.12208226">Zenodo</a>.</p></li>
<li><p><span style="color:red;">New OA Publication:</span> <a href="https://doi.org/10.1016/j.gecco.2024.e03225">Fisher activity patterns show potential for behavioral adaptations to human modified landscapes</a> from Dr.&nbsp;Laken Ganoe on spatial, temporal, and demographic effects on fisher activity levels. Data and code can be found at <a href="https://doi.org/10.5281/zenodo.11211137">Zenodo</a>.</p></li>
</ul>
</section>
<section id="august-2024" class="level4">
<h4 data-anchor-id="august-2024">August, 2024</h4>
<ul>
<li><p>Brian co-instructed an <a href="https://bgerber123.github.io/R1day/#/title-slide">Introduction to R workshop</a> with <a href="https://georgiatitcomb.weebly.com/">Georgia Titcomb</a> and <a href="https://aeroecolab.com/people">Kyle Horton</a> at CSU for graduate students and state and federal agencies.</p></li>
<li><p><span style="color:red;">New Publication:</span> <a href="http://doi.org/10.1002/jwmg.22649">Habitat selection of non-breeding American black ducks in an urban estuary</a> from Tori Mezebish Quinn on the influence of shellfish aquaculture on the spatial ecology of American black ducks. <a href=".\publications/Mezebish Quinn et al 2024.pdf">Download</a>.</p></li>
<li><p><span style="color:red;">New OA Publication:</span> <a href="https://doi.org/10.1111/csp2.13177">Applying a hierarchical Bayesian framework to reveal how fear and animal ownership drive human’s valuation of and interactions with coyotes</a> from Kim Rivera on using hierarchical modeling to understand how people in Rhode Island value coyotes. Data and code can be found at <a href="https://github.com/kimberlyarivera/Coyote_RI">GitHub</a>.</p></li>
</ul>
</section>
<section id="july-2024" class="level4">
<h4 data-anchor-id="july-2024">July, 2024</h4>
<ul>
<li><span style="color:red;">New OA Publication:</span> <a href="https://doi.org/10.1002/ece3.70043">Mesocarnivore sensitivity to natural and anthropogenic disturbance leads to declines in occurrence and concern for species persistence</a> from Dr.&nbsp;Laken Ganoe on mesocarnivore response to disturbance in Rhode Island, USA. Data and code can be found at <a href="https://zenodo.org/doi/10.5281/zenodo.10459833">Zenodo</a>.</li>
</ul>
</section>
<section id="june-2024" class="level4">
<h4 data-anchor-id="june-2024">June, 2024</h4>
<ul>
<li><p><span style="color:red;">New OA Publication:</span> <a href="https://esajournals.onlinelibrary.wiley.com/doi/10.1002/ecs2.4878">A statistical population reconstruction model for wildlife populations: A case study with white-tailed deer and fisher</a> from Dr.&nbsp;Edwige Bellier on a novel hierarchical Bayesian model to recover population variables from age-at-harvest data. Code and data can be found on <a href="https://figshare.com/articles/online_resource/Code_for_a_statistical_population_reconstruction_model_for_wildlife_populations_A_case_study_with_white-tailed_deer_and_fisher_/22894874/2">FigShare</a>.</p></li>
<li><p>Brian presents at the 103rd American Society of Mammalogists meeting in Boulder, CO.<br>
Title: <a href="https://www.dropbox.com/scl/fi/h0g4q2ts8hyln9s2iye65/Gerber-et-al.-2024-ASM.pptx?rlkey=u58hfp0qgg5r3nfdbvmuc97e1&amp;st=wq03a3u3&amp;dl=0">A framework to define and estimate animal diel activity</a>.</p></li>
<li><p>Brian co-instructs a 10-day short course ‘Bayesian Model for Ecologists’ at Colorado State University along with Drs. Tom Hobbs, Mevin Hooten, Becky Tang, and Alison Ketz. This is an NSF funded course (Award 2042028).</p></li>
</ul>
</section>
<section id="april-2024" class="level4">
<h4 data-anchor-id="april-2024">April, 2024</h4>
<ul>
<li><span style="color:red;">Laken Ganoe</span> passes her dissertation defense! and <span style="color:red;">Nicole Defelice</span> passes her thesis defense!</li>
</ul>
</section>
<section id="march-2024" class="level4">
<h4 data-anchor-id="march-2024">March, 2024</h4>
<ul>
<li><span style="color:red;">New OA Publication:</span> <a href="https://www.frontiersin.org/articles/10.3389/fevo.2024.1209309/abstract">Influence of resource gradients and habitat edges on density variation in tiger populations in a multi-use landscape</a> from Dr.&nbsp;Pranav Chanchani examining drivers of Bengal Tiger populations.</li>
</ul>
</section>
<section id="february-2024" class="level4">
<h4 data-anchor-id="february-2024">February, 2024</h4>
<ul>
<li>Brian travels to Norway to be an external PhD examiner at the <a href="https://www.nmbu.no/en">Norwegian Univeristy of Life Sciences</a> and visits the <a href="https://www.nina.no/english/Home">Norwegian Institute for Nature Research</a>.</li>
</ul>
</section>
<section id="january-2024" class="level4">
<h4 data-anchor-id="january-2024">January, 2024</h4>
<ul>
<li><span style="color:red;">New OA Publication:</span> <a href="https://besjournals.onlinelibrary.wiley.com/doi/full/10.1111/1365-2656.14035">A model-based hypothesis framework to define and estimate the diel niche via the ‘Diel.Niche’ R package</a> from the <a href="https://diel-project.github.io/">Global Animal Diel Activity Project</a>. <a href=".\publications/Gerber et al 2024 JAE.pdf">Download</a>. We propose a conceptual and modeling framework to connect data and hypotheses to make inference about animal diel phenotypes (e.g., diurnal, nocturnal). The Diel.Niche R package can be found on <a href="https://github.com/diel-project/Diel-Niche-Modeling">Github</a> and a shiny version can be found <a href="https://shiny.celsrs.uri.edu/bgerber/DielNiche/">here</a>. We also wrote a <a href="https://animalecologyinfocus.com/2024/01/18/defining-and-making-inference-on-the-diel-niche/">blog</a> about our paper that is intended for a more general audience.</li>
</ul>
</section>
<section id="december-2023" class="level4">
<h4 data-anchor-id="december-2023">December, 2023</h4>
<ul>
<li><span style="color:red;">New Publication:</span> <a href="https://zslpublications.onlinelibrary.wiley.com/doi/epdf/10.1111/acv.12926">Forest carnivores living on the edge with invasive predators</a> from the ever persistent Erin Wampole. <a href=".\publications/Wampole et al. 2023.pdf">Download</a>. We found free-roaming dogs and cats interact with their surrounding environment (i.e., forest edge) to shape native carnivore species response differently than within interior forest.</li>
</ul>
</section>
<section id="november-2023" class="level4">
<h4 data-anchor-id="november-2023">November, 2023</h4>
<ul>
<li><p>Brian heads to the annual Wildlife Society conference to talk about a recent paper in <a href="https://zslpublications.onlinelibrary.wiley.com/doi/full/10.1111/acv.12877">Animal Conservation</a> about the robustness of optimal decision making in the context of known-unknown meta-population dynamics.</p></li>
<li><p><span style="color:red;">New OA Publication:</span> <a href="https://onlinelibrary.wiley.com/doi/epdf/10.1002/ece3.10684">Diel activity structures the occurrence of a mammal community in a human-dominated landscape</a> led by Amy Mayer from the University of Rhode Island. We found that mammals shift their use of spatial locations and the time of day they are active at these locations to adapt to landscapes with anthropogenic activity. Data and code can be found on <a href="https://zenodo.org/records/8240192">Zenodo</a>. The methods used to implement this modeling framework are outlined by <a href="https://doi.org/10.1086/720714">Rivera et al.&nbsp;2022</a> with code on <a href="https://github.com/bgerber123/multi.state.diel.occupancy.model">Github</a>.</p></li>
</ul>
</section>
<section id="september-2023" class="level4">
<h4 data-anchor-id="september-2023">September, 2023</h4>
<ul>
<li><span style="color:red;">New Publication:</span> <a href="https://www.sciencedirect.com/science/article/pii/S037811272300381X">Differential impacts of spruce beetle outbreaks on snowshoe hares and red squirrels in the southern Rocky Mountains</a> led by Jake Ivan from the Colorado Parks and Wilddife. <a href=".\publications/Ivan et al. 2023.pdf">Download</a>.</li>
</ul>
</section>
<section id="august-2023" class="level4">
<h4 data-anchor-id="august-2023">August, 2023</h4>
<ul>
<li>Brian starts with the <a href="https://www1.usgs.gov/coopunits/staff/865147">Colorado Cooperative Fish and Wildlife Research Unit</a> with USGS at Colorado State University. Prior, I was an associate professor at the University of Rhode Island in the Department of Natural Resources Science.</li>
</ul>



</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><span class="faux-block">© 2023 Brian D. Gerber CC BY-SA 4.0</span></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>